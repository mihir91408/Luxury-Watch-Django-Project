{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Login ‚Äî Creative</title>
<style>
@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap");
:root{ --header-height:3.5rem; --first-color:hsl(31,100%,70%); --button-color:hsl(0,0%,17%); --button-color-alt:hsl(0,0%,21%); --title-color:hsl(0,0%,15%); --text-color:hsl(0,0%,35%); --text-color-light:hsl(0,0%,55%); --body-color:hsl(0,0%,99%); --container-color:#fff; --border-color:hsl(0,0%,94%); --body-font:'Roboto',sans-serif; }
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{ font-family:var(--body-font); background:var(--body-color); display:flex;align-items:center;justify-content:center;overflow:hidden; }
.blob{position:absolute;width:420px;height:420px;border-radius:50%;filter:blur(160px);opacity:.95;animation:blobMove 14s infinite alternate ease-in-out}
.blob.one{background:var(--first-color);left:-120px;top:-80px}
.blob.two{background:linear-gradient(135deg,var(--button-color),rgba(0,0,0,.6));right:-140px;bottom:-100px;animation-duration:18s}
@keyframes blobMove{0%{transform:translateY(-30px) translateX(-20px) scale(.95)}100%{transform:translateY(30px) translateX(20px) scale(1.15)}}
.card{position:relative;width:380px;border-radius:1.2rem;background:var(--container-color);padding:2.2rem;box-shadow:0 24px 48px rgba(2,6,23,.12);animation:float 4s ease-in-out infinite}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
.card h2{text-align:center;color:var(--title-color);margin-bottom:1rem;font-size:1.25rem}
.small{font-size:.9rem;color:var(--text-color)}
.input-group{margin-bottom:1rem}
.input-group label{display:block;margin-bottom:.35rem;color:var(--text-color);font-size:.88rem}
.input-group input{width:100%;padding:.85rem 1rem;border-radius:.6rem;border:1px solid var(--border-color);background:var(--body-color);outline:none;transition:.25s}
.input-group input:focus{border-color:var(--first-color);box-shadow:0 6px 18px rgba(255,170,100,.08)}
.row{display:flex;align-items:center;justify-content:space-between;margin-top:.5rem}
.remember{display:flex;align-items:center;gap:.5rem}
.remember input{width:18px;height:18px}
.btn{width:100%;padding:.95rem;border-radius:.6rem;border:none;background:var(--button-color);color:#fff;font-weight:600;margin-top:1rem;cursor:pointer}
.btn:hover{background:var(--button-color-alt)}
.socials{display:flex;gap:.6rem;margin-top:1rem}
.social{flex:1;padding:.6rem;border-radius:.6rem;text-align:center;border:1px solid var(--border-color);cursor:pointer}
.social svg{width:18px;height:18px;vertical-align:middle}
.footer{margin-top:1rem;text-align:center;color:var(--text-color);font-size:.88rem}
.footer a{color:var(--first-color);font-weight:600;text-decoration:none}
.show-pass{position:relative}
.show-pass button{position:absolute;right:.5rem;top:50%;transform:translateY(-50%);border:none;background:transparent;cursor:pointer;font-size:1rem;color:var(--text-color)}
.alert-error { color: #d9534f; text-align: center; font-size: 0.9rem; margin-bottom: 1rem; }
@media (max-width:420px){.card{width:92%;padding:1.6rem}}
</style>
</head>
<body>
  <div class="blob one" aria-hidden></div>
  <div class="blob two" aria-hidden></div>

  <main class="card" role="main" aria-labelledby="loginTitle">
    <h2 id="loginTitle">Welcome Back</h2>

    {% if messages %}
      {% for message in messages %}
        <div class="alert-error">{{ message }}</div>
      {% endfor %}
    {% endif %}

    <form method="POST" action="{% url 'login' %}">
      {% csrf_token %}

      <div class="input-group">
        <label for="id_username">Email</label>
        {{ form.username }} 
      </div>

      <div class="input-group show-pass">
        <label for="id_password">Password</label>
        {{ form.password }}
        <button type="button" aria-label="Toggle password" onclick="togglePassword()">üëÅÔ∏è</button>
      </div>

      <div class="row">
        <label class="remember"><input type="checkbox" name="remember" id="remember" /> <span class="small">Remember me</span></label>
        <a class="small" href="{% url 'signup' %}">Forgot?</a>
      </div>

      <button class="btn" type="submit">Log In</button>

      <div style="text-align:center;margin-top:1rem;color:var(--text-color-light)">or continue with</div>

      <div class="socials">
        <div class="social" title="Continue with Google">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden>
            <path d="M21.35 11.1h-9.18v2.92h5.26c-.23 1.4-1.45 3.04-5.26 3.04-3.16 0-5.74-2.6-5.74-5.8s2.58-5.8 5.74-5.8c1.8 0 3 .76 3.69 1.42l2.52-2.43C18.16 3.2 16.08 2.2 12.17 2.2 6.92 2.2 2.84 6.68 2.84 12s4.08 9.8 9.33 9.8c8.1 0 11.58-5.84 11.58-11.66 0-.78-.08-1.4-.4-2.24z" fill="currentColor"/>
          </svg>
        </div>
        <div class="social" title="Continue with GitHub">
          <svg viewBox="0 0 24 24" aria-hidden>
            <path d="M12 .5C5.6.5.5 5.6.5 12c0 5.1 3.3 9.4 7.9 10.9.6.1.8-.2.8-.5v-2c-3.2.7-3.9-1.3-3.9-1.3-.5-1.2-1.2-1.6-1.2-1.6-1-.7.1-.7.1-.7 1.1.1 1.7 1.1 1.7 1.1 1 .1 1.7.7 2.1 1.1.2-.8.6-1.3 1.1-1.6-2.6-.3-5.4-1.3-5.4-5.8 0-1.3.5-2.4 1.2-3.2-.1-.3-.5-1.4.1-2.9 0 0 1-.3 3.4 1.2 1-.3 2-.4 3-.4 1 0 2 .1 3 .4 2.4-1.5 3.4-1.2 3.4-1.2.6 1.5.2 2.6.1 2.9.8.8 1.2 1.9 1.2 3.2 0 4.5-2.8 5.5-5.4 5.8.6.5 1 1.2 1 2.5v3.7c0 .3.2.6.8.5 4.6-1.5 7.9-5.8 7.9-10.9C23.5 5.6 18.4.5 12 .5z" fill="currentColor"/>
          </svg>
        </div>
      </div>

      <p class="footer">Don't have an account? <a href="{% url 'signup' %}">Sign up</a></p>
    </form>
  </main>

<script>
function togglePassword(){
  // Note: We use the ID that Django automatically assigns: id_password
  const p = document.getElementById('id_password');
  if(p) {
      p.type = p.type === 'password' ? 'text' : 'password';
  }
}
</script>
</body>
</html>